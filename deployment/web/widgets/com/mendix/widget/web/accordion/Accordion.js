define(["exports","react","react-dom"],(function(e,a,n){"use strict";var o,t={exports:{}};
/*!
    Copyright (c) 2018 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */o=t,function(){var e={}.hasOwnProperty;function a(){for(var n=[],o=0;o<arguments.length;o++){var t=arguments[o];if(t){var l=typeof t;if("string"===l||"number"===l)n.push(t);else if(Array.isArray(t)){if(t.length){var r=a.apply(null,t);r&&n.push(r)}}else if("object"===l)if(t.toString===Object.prototype.toString)for(var c in t)e.call(t,c)&&t[c]&&n.push(c);else n.push(t.toString())}}return n.join(" ")}o.exports?(a.default=a,o.exports=a):window.classNames=a}();var l=t.exports;const r=e=>{let{icon:n,className:o="",fallback:t}=e;return"glyph"===(null==n?void 0:n.type)?a.createElement("span",{className:l("glyphicon",o,n.iconClass),"aria-hidden":!0}):"image"===(null==n?void 0:n.type)?a.createElement("img",{className:o,src:n.iconUrl,"aria-hidden":!0,alt:""}):t||null};function c(e){var n;const{animateContent:o,changeFocus:t,showHeaderIcon:r,toggleCollapsed:c,onToggleCompletion:i}=e,[d,s]=a.useState(e.collapsed),u=a.useRef(d),p=a.useRef(!1),g=a.useRef(null),v=a.useRef(null),h=a.useRef(null),m=a.useCallback((()=>{v.current&&g.current&&p.current&&(d?(g.current.classList.remove("widget-accordion-group-expanding"),v.current.style.height="",s(!1)):(g.current.classList.add("widget-accordion-group-collapsed"),g.current.classList.remove("widget-accordion-group-collapsing"),s(!0)),p.current=!1)}),[d]);a.useEffect((()=>{e.collapsed!==d&&g.current&&v.current&&h.current&&o?(p.current=!0,e.collapsed?(v.current.style.height="".concat(h.current.getBoundingClientRect().height,"px"),g.current.classList.add("widget-accordion-group-collapsing"),setTimeout((()=>{v.current&&(v.current.style.height="")}),50)):(g.current.classList.add("widget-accordion-group-expanding"),g.current.classList.remove("widget-accordion-group-collapsed"),setTimeout((()=>{v.current&&h.current&&(v.current.style.height="".concat(h.current.getBoundingClientRect().height,"px"))}),50))):e.collapsed===d||o&&e.visible||s(e.collapsed)}),[e.collapsed,e.visible,d,o]),a.useEffect((()=>{d!==u.current&&(u.current=d,null==i||i(e.collapsed))}),[e.collapsed,i,d]);const f=a.useCallback((e=>{switch(e.key){case"Enter":case" ":e.preventDefault(),null==c||c();break;case"Home":e.preventDefault(),null==t||t(e.currentTarget,"first");break;case"End":e.preventDefault(),null==t||t(e.currentTarget,"last");break;case"Up":case"ArrowUp":e.preventDefault(),null==t||t(e.currentTarget,"previous");break;case"Down":case"ArrowDown":e.preventDefault(),null==t||t(e.currentTarget,"next")}}),[c,t]);return e.visible?a.createElement("section",{ref:g,className:l("widget-accordion-group",{"widget-accordion-group-collapsed":d},e.dynamicClassName)},a.createElement("header",{className:"widget-accordion-group-header"},a.createElement("div",{id:"".concat(e.id,"HeaderButton"),className:l("widget-accordion-group-header-button",{"widget-accordion-group-header-button-clickable":e.collapsible,"widget-accordion-group-header-button-icon-left":e.collapsible&&"left"===r,"widget-accordion-group-header-button-icon-right":e.collapsible&&"right"===r}),tabIndex:e.collapsible?0:void 0,"data-focusindex":0,role:"button",onClick:e.collapsible?c:void 0,onKeyDown:e.collapsible?f:void 0,"aria-expanded":!d,"aria-disabled":!e.collapsible,"aria-controls":"".concat(e.id,"ContentWrapper")},e.header,!e.collapsible||"left"!==r&&"right"!==r?null:null===(n=e.generateHeaderIcon)||void 0===n?void 0:n.call(e,null!=d&&d))),a.createElement("div",{ref:v,id:"".concat(e.id,"ContentWrapper"),className:"widget-accordion-group-content-wrapper","data-focusindex":0,onTransitionEnd:m,role:"region","aria-labelledby":"".concat(e.id,"HeaderButton")},a.createElement("div",{ref:h,className:"widget-accordion-group-content"},e.content))):null}function i(e){const n=a.useRef((o=e.singleExpandedGroup?"single":"multiple",(e,a)=>{if("expand"===a.type&&"single"===o)return e.map(((e,n)=>n!==a.index));const n=[...e];return n[a.index]="collapse"===a.type,n}));var o;const[t,r]=a.useReducer(n.current,void 0,(()=>{const a=e.groups.map((a=>!e.previewMode&&e.collapsible&&!!a.initiallyCollapsed));if(!e.previewMode&&e.singleExpandedGroup){const e=a.lastIndexOf(!1);if(e>-1)for(let n=0;n<e;n++)a[n]=!0}return a})),c=a.useRef(e.groups.map((e=>e.collapsed)));a.useMemo((()=>{e.groups.forEach(((e,a)=>{void 0!==e.collapsed&&e.collapsed!==c.current[a]&&(c.current[a]=e.collapsed,r({type:e.collapsed?"collapse":"expand",index:a}))}))}),[e.groups]);const i=a.useRef(null),s=e.groups.map(((n,o)=>a.createElement(d,{key:o,index:o,parent:i,id:"".concat(e.id,"AccordionGroup").concat(o),collapsible:e.collapsible,accordionGroupCollapsedStateDispatch:r,...n,collapsed:t[o],animateContent:e.animateContent,generateHeaderIcon:e.generateHeaderIcon,showHeaderIcon:e.showGroupHeaderIcon})));return a.createElement("div",{ref:i,id:e.id,className:l("widget-accordion",{"widget-accordion-preview":e.previewMode},e.class),style:e.style,"data-focusindex":e.tabIndex||0},s)}function d(e){const{accordionGroupCollapsedStateDispatch:n}=e,o=a.useCallback((()=>{e.collapsed?n({type:"expand",index:e.index}):n({type:"collapse",index:e.index})}),[e.collapsed,n,e.index]),t=a.useCallback(((a,n)=>{var o;if(e.parent.current&&a&&a instanceof Node){const t=Array.from(e.parent.current.querySelectorAll(":scope > .widget-accordion-group > .widget-accordion-group-header > .widget-accordion-group-header-button"));if(0===t.length)return;switch(n){case"first":t[0].focus();break;case"last":t[t.length-1].focus();break;case"previous":case"next":const e=t.findIndex((e=>e.isSameNode(a)));null===(o=t[e+("next"===n?1:-1)])||void 0===o||o.focus()}}}),[e.parent]);return a.createElement(c,{key:e.index,id:e.id,header:e.header,content:e.content,collapsed:e.collapsed,visible:e.visible,dynamicClassName:e.dynamicClassName,collapsible:e.collapsible,toggleCollapsed:o,onToggleCompletion:e.onToggleCompletion,changeFocus:t,animateContent:e.animateContent,generateHeaderIcon:e.generateHeaderIcon,showHeaderIcon:e.showHeaderIcon})}function s(e){let n="h1";switch(e.heading){case"headingTwo":n="h2";break;case"headingThree":n="h3";break;case"headingFour":n="h4";break;case"headingFive":n="h5";break;case"headingSix":n="h6"}return a.createElement(n,null,e.children)}function u(e){let{data:n,loading:o,animate:t}=e;return n?a.createElement(r,{icon:n,className:l("widget-accordion-group-header-button-icon",{"widget-accordion-group-header-button-icon-animate":t})}):o?null:a.createElement("svg",{className:l("widget-accordion-group-header-button-icon",{"widget-accordion-group-header-button-icon-animate":t}),"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.64598 4.64601C1.69242 4.59945 1.7476 4.5625 1.80834 4.5373C1.86909 4.51209 1.93421 4.49911 1.99998 4.49911C2.06575 4.49911 2.13087 4.51209 2.19161 4.5373C2.25236 4.5625 2.30753 4.59945 2.35398 4.64601L7.99998 10.293L13.646 4.64601C13.6925 4.59952 13.7477 4.56264 13.8084 4.53749C13.8691 4.51233 13.9342 4.49938 14 4.49938C14.0657 4.49938 14.1308 4.51233 14.1916 4.53749C14.2523 4.56264 14.3075 4.59952 14.354 4.64601C14.4005 4.6925 14.4373 4.74769 14.4625 4.80842C14.4877 4.86916 14.5006 4.93426 14.5006 5.00001C14.5006 5.06575 14.4877 5.13085 14.4625 5.19159C14.4373 5.25233 14.4005 5.30752 14.354 5.35401L8.35398 11.354C8.30753 11.4006 8.25236 11.4375 8.19161 11.4627C8.13087 11.4879 8.06575 11.5009 7.99998 11.5009C7.93421 11.5009 7.86909 11.4879 7.80834 11.4627C7.7476 11.4375 7.69242 11.4006 7.64598 11.354L1.64598 5.35401C1.59942 5.30756 1.56247 5.25239 1.53727 5.19164C1.51206 5.1309 1.49908 5.06578 1.49908 5.00001C1.49908 4.93424 1.51206 4.86912 1.53727 4.80837C1.56247 4.74763 1.59942 4.69245 1.64598 4.64601V4.64601Z"}))}r.displayName="Icon",e.Accordion=function(e){var n,o,t,l,r,c;const d=a.useRef(function(){const e="com.mendix.widgets.web.UUID";return window[e]||(window[e]=1),window[e]++}()),p=a.useMemo((()=>function(e){if(function(e){return e.some((e=>void 0===e.visible.value||void 0===e.headerText.value||void 0===e.initiallyCollapsed.value||e.collapsed&&void 0===e.collapsed.value))}(e))return;return e.map((e=>{var n,o,t;let l=e.headerContent;return"text"===e.headerRenderMode&&(l=a.createElement(s,{heading:e.headerHeading},e.headerText.value)),{header:l,content:e.content,collapsed:null===(n=e.collapsed)||void 0===n?void 0:n.value,initiallyCollapsed:"dynamic"===e.initialCollapsedState?e.initiallyCollapsed.value:"collapsed"===e.initialCollapsedState,visible:e.visible.value,dynamicClassName:null===(o=e.dynamicClass)||void 0===o?void 0:o.value,onToggleCompletion:null===(t=e.collapsed)||void 0===t?void 0:t.setValue}}))}(e.groups)),[e.groups]),g=(v=e.animateIcon,h={data:null===(n=e.icon)||void 0===n?void 0:n.value,loading:"loading"===(null===(o=e.icon)||void 0===o?void 0:o.status)},m={data:null===(t=e.expandIcon)||void 0===t?void 0:t.value,loading:"loading"===(null===(l=e.expandIcon)||void 0===l?void 0:l.status)},f={data:null===(r=e.collapseIcon)||void 0===r?void 0:r.value,loading:"loading"===(null===(c=e.collapseIcon)||void 0===c?void 0:c.status)},a.useCallback((e=>v?a.createElement(u,{...h,animate:v}):e?a.createElement(u,{...m,animate:v}):a.createElement(u,{...f,animate:v})),[v,h,m,f]));var v,h,m,f;return p?a.createElement(i,{id:"Accordion".concat(d.current),class:e.class,style:e.style,tabIndex:e.tabIndex,groups:p,collapsible:e.collapsible,animateContent:e.animate,singleExpandedGroup:e.collapsible?"singleExpanded"===e.expandBehavior:void 0,generateHeaderIcon:g,showGroupHeaderIcon:e.showIcon}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
