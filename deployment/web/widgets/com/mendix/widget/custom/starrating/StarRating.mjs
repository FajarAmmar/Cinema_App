import{useState as e,useRef as a,createElement as t,useCallback as n}from"react";import{Big as i}from"big.js";import"react-dom";var l,r={exports:{}};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/l=r,function(){var e={}.hasOwnProperty;function a(){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i){var l=typeof i;if("string"===l||"number"===l)t.push(i);else if(Array.isArray(i)){if(i.length){var r=a.apply(null,i);r&&t.push(r)}}else if("object"===l)if(i.toString===Object.prototype.toString)for(var o in i)e.call(i,o)&&i[o]&&t.push(o);else t.push(i.toString())}}return t.join(" ")}l.exports?(a.default=a,l.exports=a):window.classNames=a}();var o=r.exports;function u(n){var i;const[l,r]=e(void 0),u=a(null),s=n.disabled?void 0:e=>{var a,t;n.value===e?null===(a=n.onChange)||void 0===a||a.call(n,0):null===(t=n.onChange)||void 0===t||t.call(n,e)},c=e=>{if(u.current){const a=u.current.querySelector(".rating-item:focus");"next"===e&&(null==a?void 0:a.nextSibling)?a.nextSibling.focus():"previous"===e&&(null==a?void 0:a.previousSibling)&&a.previousSibling.focus()}};return t("div",{className:o("widget-rating",n.className),"data-focusindex":null!==(i=n.tabIndex)&&void 0!==i?i:0,role:"radiogroup",style:n.style,onKeyDown:e=>{switch(e.key){case"Left":case"ArrowLeft":e.preventDefault(),c("previous");break;case"Right":case"ArrowRight":e.preventDefault(),c("next")}},ref:u},Array.from({length:n.maximumValue},((e,a)=>{const i=a+1;return t("div",{"aria-checked":i===n.value,"aria-label":i.toString(),className:o("rating-item",{disabled:n.disabled}),key:"icon_".concat(i),onClick:()=>{r(void 0),null==s||s(i)},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),null==s||s(i))},onMouseOut:()=>{r(void 0)},onMouseOver:()=>{!n.disabled&&n.animated&&r(i)},role:"radio",tabIndex:a===Math.max(n.value-1,0)?0:-1},Number(i)<=n.value?n.fullIcon:l&&i<=Number(l)?t("div",{className:"rating-item-hover"},n.fullIcon):n.emptyIcon)})))}const s=e=>e&&"available"===e.status&&e.value;var c;!function(e){e.Number="number",e.DateTime="datetime"}(c||(c={}));const m=e=>{let{icon:a,className:n="",fallback:i}=e;return"glyph"===(null==a?void 0:a.type)?t("span",{className:o("glyphicon",n,a.iconClass),"aria-hidden":!0}):"image"===(null==a?void 0:a.type)?t("img",{className:n,src:a.iconUrl,"aria-hidden":!0,alt:""}):i||null};function v(e){let a,{animate:n,empty:i,full:l,value:r}=e;return r&&"glyph"===r.type&&(a=o("rating-icon",{"rating-icon-empty":i,"rating-icon-full":l,animate:n})),r&&"image"===r.type&&(a=o("rating-image",{"rating-image-empty":i,"rating-image-full":l,animate:n})),t(m,{icon:r,className:a,fallback:t("div",null)})}function p(e){var a,l;const r=e.emptyIcon&&s(e.emptyIcon)?t(v,{value:null===(a=e.emptyIcon)||void 0===a?void 0:a.value,empty:!0,animate:e.animation}):t(v,{value:{type:"glyph",iconClass:"glyphicon-star-empty"},empty:!0,animate:e.animation}),o=e.icon&&s(e.icon)?t(v,{value:null===(l=e.icon)||void 0===l?void 0:l.value,full:!0,animate:e.animation}):t(v,{value:{type:"glyph",iconClass:"glyphicon-star"},full:!0,animate:e.animation}),c=n((a=>{var t;"available"===e.rateAttribute.status&&(e.rateAttribute.setValue(new i(a)),(t=e.onChange)&&t.canExecute&&!t.isExecuting&&t.execute())}),[e.rateAttribute,e.onChange]),m=Number(s(e.rateAttribute)?e.rateAttribute.value:0);return t(u,{className:e.class,animated:e.animation,disabled:e.rateAttribute.readOnly,emptyIcon:r,fullIcon:o,maximumValue:e.maximumStars,onChange:c,tabIndex:e.tabIndex,value:m>e.maximumStars?e.maximumStars:m})}m.displayName="Icon";export{p as StarRating};
